{
  "openapi": "3.1.0",
  "info": {
    "title": "Fantasy Football Draft Tracker",
    "description": "Auction draft tracking tool with optimistic locking",
    "version": "1.0.0"
  },
  "paths": {
    "/": {
      "get": {
        "summary": "Root",
        "description": "Serve the main application interface.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/draft-state": {
      "get": {
        "summary": "Get Draft State",
        "description": "Get complete current draft state.",
        "operationId": "get_draft_state_api_v1_draft_state_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftState"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/players": {
      "get": {
        "summary": "Get All Players",
        "description": "Get all player information.",
        "operationId": "get_all_players_api_v1_players_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Player"
                  },
                  "type": "array",
                  "title": "Response Get All Players Api V1 Players Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/players/available": {
      "get": {
        "summary": "Get Available Players",
        "description": "Get available players with details.",
        "operationId": "get_available_players_api_v1_players_available_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Player"
                  },
                  "type": "array",
                  "title": "Response Get Available Players Api V1 Players Available Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/player/stats": {
      "get": {
        "summary": "Get Player Stats",
        "description": "Get player statistics and bye weeks. Returns empty collection if not found.",
        "operationId": "get_player_stats_api_v1_player_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlayerStatsCollection"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/owners": {
      "get": {
        "summary": "Get All Owners",
        "description": "Get all owner information.",
        "operationId": "get_all_owners_api_v1_owners_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Owner"
                  },
                  "type": "array",
                  "title": "Response Get All Owners Api V1 Owners Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/config": {
      "get": {
        "summary": "Get Config",
        "description": "Get draft configuration.",
        "operationId": "get_config_api_v1_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Configuration"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/owners/{owner_id}": {
      "get": {
        "summary": "Get Owner",
        "description": "Get specific owner information.",
        "operationId": "get_owner_api_v1_owners__owner_id__get",
        "parameters": [
          {
            "name": "owner_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Owner Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Owner"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams/{owner_id}": {
      "get": {
        "summary": "Get Team",
        "description": "Get specific team roster with player details.",
        "operationId": "get_team_api_v1_teams__owner_id__get",
        "parameters": [
          {
            "name": "owner_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Owner Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/export/csv": {
      "get": {
        "summary": "Export Draft Csv",
        "description": "Export current draft state as CSV file (admin only).",
        "operationId": "export_draft_csv_api_v1_export_csv_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/nominate": {
      "post": {
        "summary": "Nominate Player",
        "description": "Nominate a player for auction.",
        "operationId": "nominate_player_api_v1_nominate_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NominateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Cancel Nomination",
        "description": "Cancel current nomination (admin action).",
        "operationId": "cancel_nomination_api_v1_nominate_delete",
        "parameters": [
          {
            "name": "if-match",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "description": "ETag for optimistic locking (expected version)",
              "title": "If-Match"
            },
            "description": "ETag for optimistic locking (expected version)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bid": {
      "post": {
        "summary": "Place Bid",
        "description": "Place a bid on the currently nominated player.",
        "operationId": "place_bid_api_v1_bid_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BidRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/draft": {
      "post": {
        "summary": "Complete Draft",
        "description": "Complete the auction and draft the player.",
        "operationId": "complete_draft_api_v1_draft_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DraftRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/draft": {
      "post": {
        "summary": "Admin Draft Player",
        "description": "Admin-only endpoint to draft a player directly without auction.",
        "operationId": "admin_draft_player_api_v1_admin_draft_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminDraftRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/draft/{pick_id}": {
      "delete": {
        "summary": "Remove Draft Pick",
        "description": "Remove a draft pick and restore player to available pool.",
        "operationId": "remove_draft_pick_api_v1_draft__pick_id__delete",
        "parameters": [
          {
            "name": "pick_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Pick Id"
            }
          },
          {
            "name": "if-match",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "description": "ETag for optimistic locking (expected version)",
              "title": "If-Match"
            },
            "description": "ETag for optimistic locking (expected version)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reset": {
      "post": {
        "summary": "Reset Draft",
        "description": "Reset draft to initial state (admin action).",
        "operationId": "reset_draft_api_v1_reset_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AdminDraftRequest": {
        "properties": {
          "owner_id": {
            "type": "integer",
            "title": "Owner Id"
          },
          "player_id": {
            "type": "integer",
            "title": "Player Id"
          },
          "price": {
            "type": "integer",
            "title": "Price"
          },
          "expected_version": {
            "type": "integer",
            "title": "Expected Version"
          }
        },
        "type": "object",
        "required": [
          "owner_id",
          "player_id",
          "price",
          "expected_version"
        ],
        "title": "AdminDraftRequest"
      },
      "BidRequest": {
        "properties": {
          "owner_id": {
            "type": "integer",
            "title": "Owner Id"
          },
          "bid_amount": {
            "type": "integer",
            "title": "Bid Amount"
          },
          "expected_version": {
            "type": "integer",
            "title": "Expected Version"
          }
        },
        "type": "object",
        "required": [
          "owner_id",
          "bid_amount",
          "expected_version"
        ],
        "title": "BidRequest"
      },
      "Configuration": {
        "properties": {
          "initial_budget": {
            "type": "integer",
            "title": "Initial Budget"
          },
          "min_bid": {
            "type": "integer",
            "title": "Min Bid"
          },
          "position_maximums": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Position Maximums"
          },
          "total_rounds": {
            "type": "integer",
            "title": "Total Rounds"
          },
          "data_directory": {
            "type": "string",
            "title": "Data Directory",
            "default": "data"
          }
        },
        "type": "object",
        "required": [
          "initial_budget",
          "min_bid",
          "position_maximums",
          "total_rounds"
        ],
        "title": "Configuration"
      },
      "DraftPick": {
        "properties": {
          "pick_id": {
            "type": "integer",
            "title": "Pick Id"
          },
          "player_id": {
            "type": "integer",
            "title": "Player Id"
          },
          "owner_id": {
            "type": "integer",
            "title": "Owner Id"
          },
          "price": {
            "type": "integer",
            "title": "Price"
          }
        },
        "type": "object",
        "required": [
          "pick_id",
          "player_id",
          "owner_id",
          "price"
        ],
        "title": "DraftPick"
      },
      "DraftRequest": {
        "properties": {
          "owner_id": {
            "type": "integer",
            "title": "Owner Id"
          },
          "player_id": {
            "type": "integer",
            "title": "Player Id"
          },
          "final_price": {
            "type": "integer",
            "title": "Final Price"
          },
          "expected_version": {
            "type": "integer",
            "title": "Expected Version"
          }
        },
        "type": "object",
        "required": [
          "owner_id",
          "player_id",
          "final_price",
          "expected_version"
        ],
        "title": "DraftRequest"
      },
      "DraftState": {
        "properties": {
          "nominated": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Nominated"
              },
              {
                "type": "null"
              }
            ]
          },
          "available_player_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Available Player Ids"
          },
          "teams": {
            "items": {
              "$ref": "#/components/schemas/Team"
            },
            "type": "array",
            "title": "Teams"
          },
          "next_to_nominate": {
            "type": "integer",
            "title": "Next To Nominate"
          },
          "version": {
            "type": "integer",
            "title": "Version",
            "default": 1
          }
        },
        "type": "object",
        "required": [
          "next_to_nominate"
        ],
        "title": "DraftState"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "KickingStats": {
        "properties": {
          "fgm": {
            "type": "string",
            "title": "Fgm",
            "description": "Field goals made"
          },
          "fga": {
            "type": "string",
            "title": "Fga",
            "description": "Field goals attempted"
          },
          "fg_pct": {
            "type": "string",
            "title": "Fg Pct",
            "description": "Field goal percentage"
          },
          "long": {
            "type": "string",
            "title": "Long",
            "description": "Longest field goal"
          },
          "xpm": {
            "type": "string",
            "title": "Xpm",
            "description": "Extra points made"
          },
          "xpa": {
            "type": "string",
            "title": "Xpa",
            "description": "Extra points attempted"
          },
          "points": {
            "type": "string",
            "title": "Points",
            "description": "Total points scored"
          }
        },
        "type": "object",
        "required": [
          "fgm",
          "fga",
          "fg_pct",
          "long",
          "xpm",
          "xpa",
          "points"
        ],
        "title": "KickingStats",
        "description": "Kicking statistics for kickers."
      },
      "NFLTeam": {
        "type": "string",
        "enum": [
          "ARI",
          "ATL",
          "BAL",
          "BUF",
          "CAR",
          "CHI",
          "CIN",
          "CLE",
          "DAL",
          "DEN",
          "DET",
          "GB",
          "HOU",
          "IND",
          "JAX",
          "KC",
          "LAC",
          "LAR",
          "LV",
          "MIA",
          "MIN",
          "NE",
          "NO",
          "NYG",
          "NYJ",
          "PHI",
          "PIT",
          "SEA",
          "SF",
          "TB",
          "TEN",
          "WAS"
        ],
        "title": "NFLTeam"
      },
      "NominateRequest": {
        "properties": {
          "owner_id": {
            "type": "integer",
            "title": "Owner Id"
          },
          "player_id": {
            "type": "integer",
            "title": "Player Id"
          },
          "initial_bid": {
            "type": "integer",
            "title": "Initial Bid"
          },
          "expected_version": {
            "type": "integer",
            "title": "Expected Version"
          }
        },
        "type": "object",
        "required": [
          "owner_id",
          "player_id",
          "initial_bid",
          "expected_version"
        ],
        "title": "NominateRequest"
      },
      "Nominated": {
        "properties": {
          "player_id": {
            "type": "integer",
            "title": "Player Id"
          },
          "current_bid": {
            "type": "integer",
            "title": "Current Bid"
          },
          "current_bidder_id": {
            "type": "integer",
            "title": "Current Bidder Id"
          },
          "nominating_owner_id": {
            "type": "integer",
            "title": "Nominating Owner Id"
          }
        },
        "type": "object",
        "required": [
          "player_id",
          "current_bid",
          "current_bidder_id",
          "nominating_owner_id"
        ],
        "title": "Nominated"
      },
      "Owner": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "owner_name": {
            "type": "string",
            "title": "Owner Name"
          },
          "team_name": {
            "type": "string",
            "title": "Team Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "owner_name",
          "team_name"
        ],
        "title": "Owner"
      },
      "PassingStats": {
        "properties": {
          "completions": {
            "type": "string",
            "title": "Completions",
            "description": "Number of completions"
          },
          "attempts": {
            "type": "string",
            "title": "Attempts",
            "description": "Number of passing attempts"
          },
          "pct": {
            "type": "string",
            "title": "Pct",
            "description": "Completion percentage"
          },
          "yards": {
            "type": "string",
            "title": "Yards",
            "description": "Passing yards"
          },
          "avg": {
            "type": "string",
            "title": "Avg",
            "description": "Yards per attempt"
          },
          "tds": {
            "type": "string",
            "title": "Tds",
            "description": "Passing touchdowns"
          },
          "ints": {
            "type": "string",
            "title": "Ints",
            "description": "Interceptions thrown"
          },
          "sacks": {
            "type": "string",
            "title": "Sacks",
            "description": "Times sacked"
          },
          "rating": {
            "type": "string",
            "title": "Rating",
            "description": "Passer rating"
          }
        },
        "type": "object",
        "required": [
          "completions",
          "attempts",
          "pct",
          "yards",
          "avg",
          "tds",
          "ints",
          "sacks",
          "rating"
        ],
        "title": "PassingStats",
        "description": "Passing statistics for quarterbacks."
      },
      "Player": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "first_name": {
            "type": "string",
            "title": "First Name"
          },
          "last_name": {
            "type": "string",
            "title": "Last Name"
          },
          "team": {
            "$ref": "#/components/schemas/NFLTeam"
          },
          "position": {
            "$ref": "#/components/schemas/Position"
          }
        },
        "type": "object",
        "required": [
          "id",
          "first_name",
          "last_name",
          "team",
          "position"
        ],
        "title": "Player"
      },
      "PlayerStats": {
        "properties": {
          "bye_week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bye Week",
            "description": "Bye week number (1-18)"
          },
          "position": {
            "type": "string",
            "title": "Position",
            "description": "Player position"
          },
          "team": {
            "type": "string",
            "title": "Team",
            "description": "NFL team abbreviation"
          },
          "passing": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PassingStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Passing statistics (QBs)"
          },
          "rushing": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RushingStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Rushing statistics (RBs, WRs, QBs)"
          },
          "receiving": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ReceivingStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Receiving statistics (WRs, TEs, RBs)"
          },
          "kicking": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/KickingStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Kicking statistics (Ks)"
          },
          "stats_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stats Summary",
            "description": "Formatted stats summary for UI display"
          }
        },
        "type": "object",
        "required": [
          "position",
          "team"
        ],
        "title": "PlayerStats",
        "description": "Statistics for an individual player."
      },
      "PlayerStatsCollection": {
        "additionalProperties": {
          "$ref": "#/components/schemas/PlayerStats"
        },
        "type": "object",
        "title": "PlayerStatsCollection",
        "description": "Collection of player statistics keyed by player ID."
      },
      "Position": {
        "type": "string",
        "enum": [
          "QB",
          "RB",
          "WR",
          "TE",
          "K",
          "D/ST"
        ],
        "title": "Position"
      },
      "ReceivingStats": {
        "properties": {
          "receptions": {
            "type": "string",
            "title": "Receptions",
            "description": "Number of receptions"
          },
          "targets": {
            "type": "string",
            "title": "Targets",
            "description": "Number of targets"
          },
          "yards": {
            "type": "string",
            "title": "Yards",
            "description": "Receiving yards"
          },
          "avg": {
            "type": "string",
            "title": "Avg",
            "description": "Yards per reception"
          },
          "tds": {
            "type": "string",
            "title": "Tds",
            "description": "Receiving touchdowns"
          },
          "long": {
            "type": "string",
            "title": "Long",
            "description": "Longest reception"
          },
          "fumbles": {
            "type": "string",
            "title": "Fumbles",
            "description": "Fumbles"
          }
        },
        "type": "object",
        "required": [
          "receptions",
          "targets",
          "yards",
          "avg",
          "tds",
          "long",
          "fumbles"
        ],
        "title": "ReceivingStats",
        "description": "Receiving statistics for wide receivers, tight ends, and running backs."
      },
      "ResetRequest": {
        "properties": {
          "expected_version": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Version"
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          }
        },
        "type": "object",
        "title": "ResetRequest"
      },
      "RushingStats": {
        "properties": {
          "carries": {
            "type": "string",
            "title": "Carries",
            "description": "Number of rushing attempts"
          },
          "yards": {
            "type": "string",
            "title": "Yards",
            "description": "Rushing yards"
          },
          "avg": {
            "type": "string",
            "title": "Avg",
            "description": "Yards per carry"
          },
          "tds": {
            "type": "string",
            "title": "Tds",
            "description": "Rushing touchdowns"
          },
          "long": {
            "type": "string",
            "title": "Long",
            "description": "Longest rush"
          },
          "fumbles": {
            "type": "string",
            "title": "Fumbles",
            "description": "Fumbles"
          }
        },
        "type": "object",
        "required": [
          "carries",
          "yards",
          "avg",
          "tds",
          "long",
          "fumbles"
        ],
        "title": "RushingStats",
        "description": "Rushing statistics for running backs, wide receivers, and quarterbacks."
      },
      "Team": {
        "properties": {
          "owner_id": {
            "type": "integer",
            "title": "Owner Id"
          },
          "budget_remaining": {
            "type": "integer",
            "title": "Budget Remaining"
          },
          "picks": {
            "items": {
              "$ref": "#/components/schemas/DraftPick"
            },
            "type": "array",
            "title": "Picks"
          }
        },
        "type": "object",
        "required": [
          "owner_id",
          "budget_remaining"
        ],
        "title": "Team"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}